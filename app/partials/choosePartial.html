<!-- Modal popup window -->
<div class="modal-demo">
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Confirm Pokémon</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <h4>Choose {{$ctrl.pokemon.name}} to be on your team?</h4>

            <!-- showtype -->
            <div ng-repeat = "type in $ctrl.getPokemonTypes($ctrl.pokemon.types)">
                <div class="label label-success">{{type}}</div>
            </div>

            <div class="panel-body">
                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-5"><h4>HP</h4></div>
                    <div class="col-md-7"><uib-progressbar class="progress-striped" max="255" value="$ctrl.pokemon.stats[5].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-5"><h4>Attack</h4></div>
                    <div class="col-md-7"><uib-progressbar class="progress-striped" max="190" value="$ctrl.pokemon.stats[4].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-5"><h4>Defense</h4></div>
                    <div class="col-md-7"><uib-progressbar class="progress-striped" max="230" value="$ctrl.pokemon.stats[3].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-5"><h4>Special Attack</h4></div>
                    <div class="col-md-7"><uib-progressbar class="progress-striped" max="194" value="$ctrl.pokemon.stats[2].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-5"><h4>Special Defense</h4></div>
                    <div class="col-md-7"><uib-progressbar class="progress-striped" max="230" value="$ctrl.pokemon.stats[1].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button ng-show="!$ctrl.isInListDialogue() && !$ctrl.isFourMem()" class="btn btn-primary" type="button" ng-click="$ctrl.ok()">Add to Team</button>
            <button ng-show="!$ctrl.isInListDialogue() && $ctrl.isFourMem()" ng-disabled="$ctrl.isFourMem()" class="btn btn-primary" type="button" ng-click="$ctrl.ok()">You already have 4 Pokémons</button>
            <button ng-show="$ctrl.isInListDialogue()" class="btn btn-primary" type="button" ng-click="$ctrl.delete()">Delete from Team</button>
            <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
        </div>
    </script>
</div>

<!-- messageTip -->
<div class="modal-demo">
    <script type="text/ng-template" id="myModalContentMessageTip.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">You already have 4 Pokémons in your team, no cheating ~^o^~</h3>
            <div style="text-align: center;">
            <button class="btn btn-primary tipButton" type="button" ng-click="$ctrl.ok()">Got it</button>
            </div>
        </div>
    </script>
</div>


<!-- Title picture -->
<div style="text-align: center">
    <a href="#!/home">
    <img src="images/title1.png" height="150px" width="690px" style="display:block; margin: auto; position: relative; z-index: 2; width: 30%;
        height: 30%;"/>
    </a>
</div>

<!-- my team -->
<div class="col-md-12 panel-body">

    <div class="col-md-12 panel-body" style="height: 300px; margin-bottom: 40px;">

        <div class="col-md-3 teamSelection"><p>1</p></div>
        <div class="col-md-3 teamSelection"><p>2</p></div>
        <div class="col-md-3 teamSelection"><p>3</p></div>
        <div class="col-md-3 teamSelection"><p>4</p></div>
        <div class="col-md-3 teamSelection" ng-repeat="pokemonName in team()" >
            <!-- 这段加在上面就有background了： style="background-image: url('images/battlefield.png'); background-repeat: no-repeat; float: center;" -->
            <div class="teamSelectionIcon" ng-if="isInList(pokemonName)" ><img src="images/unselect.png" ng-click="deleteFromTeam(pokemonName)"/>
            </div>
            <div class="dndPokemon" dnd-element>
            </div>
            <p class="col-md-12" style="margin-top: 10px;">{{pokemonName}}</p>
        </div>

    <p class="col-md-12" style="text-align: center;">{{pokemonName}}</p>
    </div>
    <div style="height: 50px;"></div>
    <h5> Choose 4 Pokémons to battle with.</h5>
    <h5>Drag and drop to choose order of your team.</h5>
</div>


<div class="col-md-6" style="text-align: right; marign-bottom: 30px">
    <a ng-click="randomTeam()" type="button" class="btn btn-primary gradient">Random Team!</a>
</div>
<div ng-show = "isFourMem()" class="col-md-6" style="text-align: left; margin-bottom: 30px">
    <a ng-href="#!/battle" type="button" class="btn btn-primary gradient">Go!</a>
</div>
<div ng-show = "!isFourMem()" class="col-md-6" style="text-align: left; margin-bottom: 30px">
    <button class="btn btn-primary gradient" ng-disabled = "true" >Go!</button>
</div>

<!-- type -->
<div class="col-md-2 panel-body">
    <select ng-model="type"  name="typeField" class="form-control" ng-change="searchPoke(filter, type)">
        <option ng-repeat="r in types" value="{{r.id}}">
            {{r.name}}
        </option>
    </select>
</div>

<!-- space -->
<div class="col-md-5 panel-body"></div>

<!-- search -->
<div>
    <form class="col-md-4 panel-body" name="filterField" ng-submit="filterField.$valid && setFilter(input)">
        <input class="form-control" id="searchBar" type="text" ng-keyup="checkIfEnter($event, filter, type)" placeholder="Enter Pokémon name to search" ng-model="filter">
    </form>
    <div class="col-md-1 panel-body" style="text-align: center;">
        <button type="button" class="btn btn-default" id="searchButton" ng-click="searchPoke(filter, type)">Search</button>
    </div>
</div>


<!-- List of all Pokémons that match search -->
<div class="panel-body searchMatches">
  <div class="row">
        <!-- Where the search results locates. -->
        <div ng-repeat="pokemon in pokeByType" class="col-md-3 panel-body">
            <!-- <button class="panel"> -->
            <a ng-click="getPokemonDetail(pokemon.pokemon.name)" class="btn btn-default hvr-float">
                <div class="panel-body">
                    <img ng-src="http://www.pokestadium.com/assets/img/sprites/official-art/{{pokemon.pokemon.name}}.png"
                    onerror="this.src='https://uos.edu.pk/assets/backend/images/staff/imagenotfound.svg'"
                    alt="{{pokemon.pokemon.name}}"
                    class="img-responsive"
                    style="width: 210px ; height:210px;"/>
                </div>
                <div class="panel-heading">
                    <h4>{{pokemon.pokemon.name}}</h4>
                </div>
            </a>

            <!-- click icon to sdd and remove pokemon-->
            <div class="mainViewSelect" style="position: relative; opacity: 0.3; bottom: 40px;" ng-if="!isInList(pokemon.pokemon.name)"><img src="images/select_v2.png" ng-click="addToTeam(pokemon.pokemon.name)"/></div>
            <div class="mainViewSelect" style="position: relative; bottom: 40px;" ng-if="isInList(pokemon.pokemon.name)"><img src="images/selected_v2.png" ng-click="deleteFromTeam(pokemon.pokemon.name)"/></div>

        </div>
    </div>
</div>

<!-- Loading Gif -->
<div class="loadingGifDiv" ng-show="isLoading">
  <img class="loadingGif">
</div>

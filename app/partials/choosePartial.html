<!-- Modal popup window -->
<div class="modal-demo">
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Confirm Pokémon</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <h4>Choose {{$ctrl.pokemon.name}} to be on your team?</h4>

            <!-- showtype -->
            <div ng-repeat = "type in $ctrl.getPokemonTypes($ctrl.pokemon.types)">
                <div class="label label-success">{{type}}</div>
            </div>

            <div ng-controller="ProgressDemoCtrl" class="panel-body">
                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>HP</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="255" value="$ctrl.pokemon.stats[5].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>Attack</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="190" value="$ctrl.pokemon.stats[4].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>Defense</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="230" value="$ctrl.pokemon.stats[3].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>Special Attack</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="194" value="$ctrl.pokemon.stats[2].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

                <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>Special Defense</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="230" value="$ctrl.pokemon.stats[1].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div>

               <!--  <div class="col-md-12" style="text-align: right;">
                    <div class="col-md-4"><h4>Speed</h4></div>
                    <div class="col-md-8"><uib-progressbar class="progress-striped" max="180" value="$ctrl.pokemon.stats[0].base_stat" type="danger"></uib-progressbar>
                    </div>
                </div> -->
            </div>
        </div>
        <div class="modal-footer">
            <button ng-show="!$ctrl.isInListDialogue()" class="btn btn-primary" type="button" ng-click="$ctrl.ok()">Add to Team</button>
            <button ng-show="$ctrl.isInListDialogue()" class="btn btn-primary" type="button" ng-click="$ctrl.delete()">Delete from Team</button>
            <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
        </div>
    </script>
    <!--<button type="button" class="btn btn-default" ng-click="open('sm')">Small modal</button>-->
</div>

<h4>Choose 4 Pokémons to battle with</h4>

<!-- my team -->
<div class="col-md-12 panel-body">

        <div class="col-md-12 panel-body" style="height: 300px;">
            <div class="col-md-3 teamSelection"><p>1</p></div>
            <div class="col-md-3 teamSelection"><p>2</p></div>
            <div class="col-md-3 teamSelection"><p>3</p></div>
            <div class="col-md-3 teamSelection"><p>4</p></div>
            <div class="col-md-3 teamSelection" ng-repeat="pokemonName in team()">
                 <div class="teamSelectionIcon" ng-if="isInList(pokemonName)"><img src="images/unselect.png" ng-click="deleteFromTeam(pokemonName)"/>
                 </div>
                <div class="dndPokemon" dnd-element>
                </div>
                <p class="col-md-12">{{pokemonName}}</p>
            </div>
        </div>
        <div class="col-md-6" style="text-align: right;"><a href="#!/overview" type="button" class="btn btn-primary gradient">Random Team!</a></div>
        <div class="col-md-6" style="text-align: left;"><a ng-href="#!/battle" type="button" class="btn btn-primary gradient">Go!</a></div>
        <!-- Button here to confirm the dinner menu. -->

            <!-- <a ng-show="selectedMenu.length > 0" id="confirmDinnerButton" href="#!/overview" type="button" class="btn btn-warning btn-md col-md-2">Battle</a>
            <a ng-show="selectedMenu.length == 0" ng-disabled="true" type="button" class="btn btn-warning btn-disabled btn-md col-md-2">Battle!</a> -->
</div>

<!-- type -->
<div class="col-md-2 panel-body">
        <select ng-model="type"  name="typeField" class="form-control" ng-change="searchPoke(filter, type)">
            <option ng-repeat="r in types" value="{{r.id}}">
                {{r.name}}
            </option>
        </select>
</div>

<!-- space -->
<div class="col-md-5 panel-body"></div>

<!-- search -->
<div>
    <form class="col-md-4 panel-body" name="filterField" ng-submit="filterField.$valid && setFilter(input)">
        <input class="form-control" id="searchBar" type="text" placeholder="Enter key words to search" ng-model="filter">
    </form>
    <div class="col-md-1 panel-body" style="text-align: center;">
        <button type="button" class="btn btn-default" id="searchButton" ng-click="searchPoke(filter, type)">Search</button>
    </div>
</div>


<!-- Main -->
<div class="panel-body">
  <div class="row">
        <!-- Where the search results locates. -->
        <div ng-repeat="pokemon in pokeByType" class="col-md-3 panel-body">
            <!-- <button class="panel"> -->
            <a ng-click="getPokemonDetail(pokemon.pokemon.name)" class="btn btn-default">
                <div class="panel-body">
                    <img ng-src="http://www.pokestadium.com/assets/img/sprites/official-art/{{pokemon.pokemon.name}}.png"
                    onerror="this.src='https://uos.edu.pk/assets/backend/images/staff/imagenotfound.svg'"
                    alt="{{pokemon.pokemon.name}}"
                    class="img-responsive"
                    style="width: 210px ; height:210px;"/>
                </div>
                <div class="panel-heading">
                    <h4>{{pokemon.pokemon.name}}</h4>
                </div>
            </a>
            <!-- click icon to sdd and remove pokemon-->
            <div class="mainViewSelect" ng-if="!isInList(pokemon.pokemon.name)"><img src="images/select.png" ng-click="addToTeam(pokemon.pokemon.name)"/></div>
            <div class="mainViewSelect" ng-if="isInList(pokemon.pokemon.name)"><img src="images/selected.png" ng-click="deleteFromTeam(pokemon.pokemon.name)"/></div>
        </div>
    </div>
</div>


  <div class="loadingGifDiv" ng-show="isLoading">
    <img id="loadingGif" src="../images/PikaLoading.gif">
  </div>
